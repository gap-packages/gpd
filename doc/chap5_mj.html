<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
         "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<script type="text/javascript"
  src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<title>GAP (groupoids) - Chapter 5: Homomorphisms of Groupoids</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta name="generator" content="GAPDoc2HTML" />
<link rel="stylesheet" type="text/css" href="manual.css" />
<script src="manual.js" type="text/javascript"></script>
<script type="text/javascript">overwriteStyle();</script>
</head>
<body class="chap5"  onload="jscontent()">


<div class="chlinktop"><span class="chlink1">Goto Chapter: </span><a href="chap0_mj.html">Top</a>  <a href="chap1_mj.html">1</a>  <a href="chap2_mj.html">2</a>  <a href="chap3_mj.html">3</a>  <a href="chap4_mj.html">4</a>  <a href="chap5_mj.html">5</a>  <a href="chap6_mj.html">6</a>  <a href="chap7_mj.html">7</a>  <a href="chap8_mj.html">8</a>  <a href="chapBib_mj.html">Bib</a>  <a href="chapInd_mj.html">Ind</a>  </div>

<div class="chlinkprevnexttop">&nbsp;<a href="chap0_mj.html">[Top of Book]</a>&nbsp;  <a href="chap0_mj.html#contents">[Contents]</a>&nbsp;  &nbsp;<a href="chap4_mj.html">[Previous Chapter]</a>&nbsp;  &nbsp;<a href="chap6_mj.html">[Next Chapter]</a>&nbsp;  </div>

<p id="mathjaxlink" class="pcenter"><a href="chap5.html">[MathJax off]</a></p>
<p><a id="X879ED2A7878B5A7A" name="X879ED2A7878B5A7A"></a></p>
<div class="ChapSects"><a href="chap5_mj.html#X879ED2A7878B5A7A">5 <span class="Heading">Homomorphisms of Groupoids</span></a>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap5_mj.html#X85D28690823636CD">5.1 <span class="Heading">Homomorphisms from a connected groupoid</span></a>
</span>
<div class="ContSSBlock">
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap5_mj.html#X870288C6803D9005">5.1-1 GroupoidHomomorphismFromSinglePiece</a></span>
</div></div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap5_mj.html#X7EAAB2A97E097FB6">5.2 <span class="Heading">Homomorphisms to a connected groupoid</span></a>
</span>
<div class="ContSSBlock">
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap5_mj.html#X7BE552BE7A1CA981">5.2-1 HomomorphismToSinglePiece</a></span>
</div></div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap5_mj.html#X795C8DE37AED7B44">5.3 <span class="Heading">Homomorphisms to more than one piece</span></a>
</span>
<div class="ContSSBlock">
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap5_mj.html#X86F313DB7EC4D9E7">5.3-1 HomomorphismByUnion</a></span>
</div></div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap5_mj.html#X7DE9C2D384323239">5.4 <span class="Heading">Groupoid automorphisms</span></a>
</span>
<div class="ContSSBlock">
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap5_mj.html#X79DA704A8051CB72">5.4-1 GroupoidAutomorphismByObjectPerm</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap5_mj.html#X8278B93E7F78038C">5.4-2 <span class="Heading">Automorphisms of a groupoid with rays</span></a>
</span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap5_mj.html#X7DB9D5737EB8C260">5.4-3 AutomorphismGroupOfGroupoid</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap5_mj.html#X80F9594481CA9FDE">5.4-4 GroupoidAutomorphismByGroupAutos</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap5_mj.html#X85A99D8A83511DDE">5.4-5 RootGroupHomomorphism</a></span>
</div></div>
</div>

<h3>5 <span class="Heading">Homomorphisms of Groupoids</span></h3>

<p>A <em>homomorphism</em> <span class="SimpleMath">\(m\)</span> from a groupoid <span class="SimpleMath">\(G\)</span> to a groupoid <span class="SimpleMath">\(H\)</span> consists of a map from the objects of <span class="SimpleMath">\(G\)</span> to those of <span class="SimpleMath">\(H\)</span> together with a map from the elements of <span class="SimpleMath">\(G\)</span> to those of <span class="SimpleMath">\(H\)</span> which is compatible with tail and head and which preserves multiplication:</p>

<p class="center">\[
m(g1 : o1 \to o2)*m(g2 : o2 \to o3) ~=~ m(g1*g2 : o1 \to o3).
\]</p>

<p>Note that when a homomorphism is not injective on objects, the image of the source need not be a subgroupoid of the range. A simple example of this is given by a homomorphism from the two-object, four-element groupoid with trivial group to the free group <span class="SimpleMath">\(\langle a \rangle\)</span> on one generator, when the image is <span class="SimpleMath">\([1,a^n,a^{-n}]\)</span> for some <span class="SimpleMath">\(n&gt;0\)</span>.</p>

<p>Attempts to trace the cause of a longstanding error when using <code class="code">InverseGeneralMapping</code>, as described in <a href="chap5_mj.html#X7DE9C2D384323239"><span class="RefLink">5.4</span></a>, have revealed errors when using other functions, such as <code class="code">ImageElm</code>. As a result, a redesign of groupoid homomorphisms is planned for the next release.</p>

<p><a id="X85D28690823636CD" name="X85D28690823636CD"></a></p>

<h4>5.1 <span class="Heading">Homomorphisms from a connected groupoid</span></h4>

<p><a id="X870288C6803D9005" name="X870288C6803D9005"></a></p>

<h5>5.1-1 GroupoidHomomorphismFromSinglePiece</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; GroupoidHomomorphismFromSinglePiece</code>( <var class="Arg">src</var>, <var class="Arg">rng</var>, <var class="Arg">hom</var>, <var class="Arg">imobs</var>, <var class="Arg">imrays</var> )</td><td class="tdright">( operation )</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; GroupoidHomomorphism</code>( <var class="Arg">args</var> )</td><td class="tdright">( function )</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; InclusionMappingGroupoids</code>( <var class="Arg">gpd</var>, <var class="Arg">sgpd</var> )</td><td class="tdright">( operation )</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; IsomorphismNewObjects</code>( <var class="Arg">src</var>, <var class="Arg">objlist</var> )</td><td class="tdright">( operation )</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; IsomorphismStandardGroupoid</code>( <var class="Arg">gpd</var>, <var class="Arg">obs</var> )</td><td class="tdright">( operation )</td></tr></table></div>
<p>As usual, there are various homomorphism operations. The basic construction is a homomorphism <span class="SimpleMath">\(\phi : G \to H\)</span> with <span class="SimpleMath">\(G\)</span> the direct product of a group and a complete graph. The homomorphism has attributes <code class="code">Source</code>, <code class="code">Range</code>, <code class="code">ImagesOfObjects</code> and <code class="code">RootGroupHomomorphism</code>. The input data consists of the source; the range; and</p>


<ul>
<li><p>a homomorphism <code class="code">hom</code> from the root group of <span class="SimpleMath">\(G\)</span> to that of <span class="SimpleMath">\(H\)</span>;</p>

</li>
<li><p>a list <code class="code">imobs</code> of the images of the objects of <span class="SimpleMath">\(G\)</span>;</p>

</li>
<li><p>a list <code class="code">imrays</code> of the elements in the images of the rays of <span class="SimpleMath">\(G\)</span>, so that the image <span class="SimpleMath">\(\phi(r_i : o_1 \to o_i)\)</span> of the <span class="SimpleMath">\(i\)</span>-th ray is <code class="code">(imrays[i]:imobs[1]</code><span class="SimpleMath">\(\to\)</span><code class="code">imobs[i])</code>.</p>

</li>
</ul>
<p>The operation <code class="code">IsomorphismNewObjects</code> returns the isomorphism from a groupoid to a groupoid with the same object group and rays but with a different set of objects.</p>

<p>The operation <code class="code">IsomorphismStandardGroupoid(gpd,obs)</code> returns the isomorphism from a groupoid with rays to the groupoid of type <code class="code">IsDirectProductWithCompleteGraph</code> on the given objects.</p>


<div class="example"><pre>

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">gend12 := [ (15,16,17,18,19,20), (15,20)(16,19)(17,18) ];; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">d12 := Group( gend12 );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Gd12 := Groupoid( d12, [-37,-36,-35,-34] );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">SetName( d12, "d12" );  </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">SetName( Gd12, "Gd12" );</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">s3 := Subgroup( d12, [ (15,17,19)(16,18,20), (15,20)(16,19)(17,18) ] );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Gs3 := SubgroupoidByPieces( Gd12, [ [ s3, [-36,-35,-34] ] ] );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">SetName( s3, "s3" );  </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">SetName( Gs3, "Gs3" );</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">gend8 := GeneratorsOfGroup( d8 );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">imhd8 := [ ( ), (15,20)(16,19)(17,18) ];;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">hd8 := GroupHomomorphismByImages( d8, s3, gend8, imhd8 );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">homd8 := GroupoidHomomorphism( Gd8, Gs3, hd8 ); </span>
groupoid homomorphism : Gd8 -&gt; Gs3
[ [ GroupHomomorphismByImages( d8, s3, [ (1,2,3,4), (1,3) ], 
        [ (), (15,20)(16,19)(17,18) ] ), [ -36, -35, -34 ], [ (), (), () ] ] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">e2; ImageElm( homd8, e2 );</span>
[(1,3) : -8 -&gt; -7]
[(15,20)(16,19)(17,18) : -35 -&gt; -34]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">incGs3 := InclusionMappingGroupoids( Gd12, Gs3 );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">ihomd8 := homd8 * incGs3;; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">IsBijectiveOnObjects( ihomd8 );</span>
false
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Display( ihomd8 );</span>
 groupoid mapping: [ Gd8 ] -&gt; [ Gd12 ]
root homomorphism: [ [ (1,2,3,4), (1,3) ], [ (), (15,20)(16,19)(17,18) ] ]
images of objects: [ -36, -35, -34 ]
   images of rays: [ [() : -36 -&gt; -36], [() : -36 -&gt; -35], [() : -36 -&gt; -34] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">e2; ImageElm( homd8, e2 );</span>
[(1,3) : -8 -&gt; -7]
[(15,20)(16,19)(17,18) : -35 -&gt; -36]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">c6d := Subgroup( d12, [ (15,16,17,18,19,20) ] );;                        </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">rays := [ (), (16,20)(17,19), (15,17)(18,20), (15,19)(16,18) ];;        </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Gc6d := SubgroupoidWithRays( Gd12, c6d, rays );                   </span>
single piece groupoid with rays: &lt; Group( [ (15,16,17,18,19,20) ] ), 
[ -37, -36, -35, -34 ], [ (), (16,20)(17,19), (15,17)(18,20), (15,19)(16,18) 
 ] &gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">iso1 := IsomorphismNewObjects( Gd12, [-7,-6,-5,-4] );     </span>
groupoid homomorphism : 
[ [ IdentityMapping( d12 ), [ -7, -6, -5, -4 ], [ (), (), (), () ] ] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">iso2 := IsomorphismStandardGroupoid( Gc6d, [-7,-6,-5,-4] );</span>
groupoid homomorphism : 
[ [ IdentityMapping( Group( [ (15,16,17,18,19,20) ] ) ), [ -7, -6, -5, -4 ], 
      [ (), (), (), () ] ] ]

</pre></div>

<p><a id="X7EAAB2A97E097FB6" name="X7EAAB2A97E097FB6"></a></p>

<h4>5.2 <span class="Heading">Homomorphisms to a connected groupoid</span></h4>

<p><a id="X7BE552BE7A1CA981" name="X7BE552BE7A1CA981"></a></p>

<h5>5.2-1 HomomorphismToSinglePiece</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; HomomorphismToSinglePiece</code>( <var class="Arg">src</var>, <var class="Arg">rng</var>, <var class="Arg">pieces</var> )</td><td class="tdright">( operation )</td></tr></table></div>
<p>When <span class="SimpleMath">\(G\)</span> is made up of two or more pieces, all of which get mapped to a connected groupoid, we have a <em>homomorphism to a single piece</em>. The third input parameter in this case is a list of the <code class="code">PieceImages</code> of the individual homomorphisms <em>from</em> the single pieces. See section <a href="chap3_mj.html#X82F856A086B93832"><span class="RefLink">3.1</span></a> for the corresponding operation on homomorphisms of magmas with objects.</p>

<p>In the following example the source <code class="code">V3</code> of <code class="code">homV3</code> has three pieces, and one of the component homomorphisms is an <code class="code">IdentityMapping</code> .</p>


<div class="example"><pre>

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">hc6 := GroupHomomorphismByImages( c6, s3, </span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">           [(5,6,7)(8,9)], [(15,16)(17,20)(18,19)] );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Fs3 := FullSubgroupoid( Gs3, [ -35 ] );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">SetName( Fs3, "Fs3" ); </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">homc6 := GroupoidHomomorphism( Gc6, Fs3, hc6 );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">incFs3 := InclusionMappingGroupoids( Gs3, Fs3 );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">ihomc6 := homc6 * incFs3; </span>
groupoid homomorphism : Gc6 -&gt; Gs3
[ [ GroupHomomorphismByImages( c6, s3, [ (5,6,7)(8,9) ], 
        [ (15,16)(17,20)(18,19) ] ), [ -35 ], [ () ] ] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">idGs3 := IdentityMapping( Gs3 );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">V3 := ReplaceOnePieceInUnion( U3, 1, Gs3 ); </span>
groupoid with 3 pieces:
[ Gs3, Gd8, Gc6 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">images3 := [ PieceImages( idGs3 )[1], </span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">                PieceImages( homd8 )[1], </span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">                PieceImages( ihomc6 )[1] ];; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">homV3 := HomomorphismToSinglePiece( V3, Gs3, images3 );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Display( homV3 );         </span>
homomorphism to single piece magma with pieces:
(1): [ Gs3 ] -&gt; [ Gs3 ]
magma mapping: [ [ (15,17,19)(16,18,20), (15,20)(16,19)(17,18) ], 
  [ (15,17,19)(16,18,20), (15,20)(16,19)(17,18) ] ]
   object map: [ -36, -35, -34 ] -&gt; [ -36, -35, -34 ]
(2): [ Gd8 ] -&gt; [ Gs3 ]
magma mapping: [ [ (1,2,3,4), (1,3) ], [ (), (15,20)(16,19)(17,18) ] ]
   object map: [ -9, -8, -7 ] -&gt; [ -36, -35, -34 ]
(3): [ Gc6 ] -&gt; [ Gs3 ]
magma mapping: [ [ (5,6,7)(8,9) ], [ (15,16)(17,20)(18,19) ] ]
   object map: [ -6 ] -&gt; [ -35 ]

</pre></div>

<p><a id="X795C8DE37AED7B44" name="X795C8DE37AED7B44"></a></p>

<h4>5.3 <span class="Heading">Homomorphisms to more than one piece</span></h4>

<p><a id="X86F313DB7EC4D9E7" name="X86F313DB7EC4D9E7"></a></p>

<h5>5.3-1 HomomorphismByUnion</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; HomomorphismByUnion</code>( <var class="Arg">src</var>, <var class="Arg">rng</var>, <var class="Arg">homs</var> )</td><td class="tdright">( operation )</td></tr></table></div>
<p>As in section <a href="chap3_mj.html#X795C8DE37AED7B44"><span class="RefLink">3.3</span></a>, when the range <span class="SimpleMath">\(H\)</span> has more than one connected component, a homomorphism is a union of homomorphisms, one for each piece.</p>


<div class="example"><pre>

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">isoq8 := IsomorphismNewObjects( Gq8, [-38,-37] ); </span>
groupoid homomorphism : 
[ 
  [ IdentityMapping( q8 ), [ -38, -37 ], 
      [ &lt;identity&gt; of ..., &lt;identity&gt; of ... ] ] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Gq8b := Range( isoq8 );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">SetName( Gq8b, "Gq8b" ); </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">V4 := UnionOfPieces( [ V3, Gq8 ] ); </span>
groupoid with 4 pieces:
[ Gs3, Gq8, Gd8, Gc6 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">SetName( V4, "V4" ); </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Vs3q8b := UnionOfPieces( [ Gs3, Gq8b ] ); </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">SetName( Vs3q8b, "Vs3q8b" ); </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">hom4 := HomomorphismByUnion( V4, Vs3q8b, [ homV3, isoq8 ] );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">PiecesOfMapping( hom4 );</span>
[ groupoid homomorphism : Gq8 -&gt; Gq8b
    [ [ IdentityMapping( q8 ), [ -38, -37 ], 
          [ &lt;identity&gt; of ..., &lt;identity&gt; of ... ] ] ], 
  groupoid homomorphism : 
    [ [ IdentityMapping( s3 ), [ -36, -35, -34 ], [ (), (), () ] ], 
      [ GroupHomomorphismByImages( d8, s3, [ (1,2,3,4), (1,3) ], 
            [ (), (15,20)(16,19)(17,18) ] ), [ -36, -35, -34 ], 
          [ (), (), () ] ], 
      [ GroupHomomorphismByImages( c6, s3, [ (5,6,7)(8,9) ], 
            [ (15,16)(17,20)(18,19) ] ), [ -35 ], [ () ] ] ] ]

</pre></div>

<p><a id="X7DE9C2D384323239" name="X7DE9C2D384323239"></a></p>

<h4>5.4 <span class="Heading">Groupoid automorphisms</span></h4>

<p><a id="X79DA704A8051CB72" name="X79DA704A8051CB72"></a></p>

<h5>5.4-1 GroupoidAutomorphismByObjectPerm</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; GroupoidAutomorphismByObjectPerm</code>( <var class="Arg">gpd</var>, <var class="Arg">imobs</var> )</td><td class="tdright">( operation )</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; GroupoidAutomorphismByGroupAuto</code>( <var class="Arg">gpd</var>, <var class="Arg">gpauto</var> )</td><td class="tdright">( operation )</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; GroupoidAutomorphismByRayShifts</code>( <var class="Arg">gpd</var>, <var class="Arg">imrays</var> )</td><td class="tdright">( operation )</td></tr></table></div>
<p>We first describe automorphisms of a groupoid <span class="SimpleMath">\(G\)</span> where <span class="SimpleMath">\(G\)</span> is the direct product of a group <span class="SimpleMath">\(g\)</span> and a complete graph. The automorphism group is generated by three types of automorphism:</p>


<ul>
<li><p>given a permutation <span class="SimpleMath">\(\pi\)</span> of the <span class="SimpleMath">\(n\)</span> objects, we define <span class="SimpleMath">\(\pi : G \to G,~ (o_i,g,o_j) \mapsto (o_{\pi i},g,o_{\pi j})\)</span>;</p>

</li>
<li><p>given an automorphism <span class="SimpleMath">\(\alpha\)</span> of the root group <span class="SimpleMath">\(g\)</span>, we define <span class="SimpleMath">\(\alpha : G \to G,~ (o_i,g,o_j) \mapsto (o_i,\alpha g,o_j)\)</span>;</p>

</li>
<li><p>given <span class="SimpleMath">\(L = [1,g_2,g_3,\ldots,g_n] \in g^n\)</span> we define <span class="SimpleMath">\(\theta_L : G \to G,~ (o_i,g,o_j) \mapsto (o_i,g_i^{-1}gg_j,o_j)\)</span> so that, in particular, for all <span class="SimpleMath">\(i\)</span> the rays <span class="SimpleMath">\((r_i : o_1 \to o_i)\)</span> are shifted by <span class="SimpleMath">\(g_i\;\)</span>: they map to <span class="SimpleMath">\((g_ir_i : o_1 \to o_i)\)</span>.</p>

</li>
</ul>
<p>Notice, at the end of the following example, that the calculated inverse <code class="code">inv123a</code> of <code class="code">aut123</code> is <em>not</em> in fact the correct morphism. Attempts to trace the source of this bug have revealed discrepancies in other functions. As a result, <em>a redesign of groupoid homomorphisms is planned for the next release!</em></p>


<div class="example"><pre>

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">a4 := Subgroup( s4, [(1,2,3),(2,3,4)] );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">SetName( a4, "a4" ); </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">gensa4 := GeneratorsOfGroup( a4 );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Ga4 := SubgroupoidByPieces( Gs4, [ [a4, [-15,-13,-11]] ] ); </span>
single piece groupoid: &lt; a4, [ -15, -13, -11 ] &gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">SetName( Ga4, "Ga4" ); </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">aut1 := GroupoidAutomorphismByObjectPerm( Ga4, [-13,-11,-15] );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Display( aut1 ); </span>
 groupoid mapping: [ Ga4 ] -&gt; [ Ga4 ]
root homomorphism: [ [ (1,2,3), (2,3,4) ], [ (1,2,3), (2,3,4) ] ]
images of objects: [ -13, -11, -15 ]
   images of rays: [ [() : -13 -&gt; -13], [() : -13 -&gt; -11], [() : -13 -&gt; -15] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">h2 := GroupHomomorphismByImages( a4, a4, gensa4, [(2,3,4), (1,3,4)] );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">aut2 := GroupoidAutomorphismByGroupAuto( Ga4, h2 );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Display( aut2 ); </span>
 groupoid mapping: [ Ga4 ] -&gt; [ Ga4 ]
root homomorphism: [ [ (1,2,3), (2,3,4) ], [ (2,3,4), (1,3,4) ] ]
images of objects: [ -15, -13, -11 ]
   images of rays: [ [() : -15 -&gt; -15], [() : -15 -&gt; -13], [() : -15 -&gt; -11] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">im3 := [(), (1,3,2), (2,4,3)];; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">aut3 := GroupoidAutomorphismByRayShifts( Ga4, im3 );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Display( aut3 ); </span>
 groupoid mapping: [ Ga4 ] -&gt; [ Ga4 ]
root homomorphism: [ [ (1,2,3), (2,3,4) ], [ (1,2,3), (2,3,4) ] ]
images of objects: [ -15, -13, -11 ]
   images of rays: [ [() : -15 -&gt; -15], [(1,3,2) : -15 -&gt; -13], 
  [(2,4,3) : -15 -&gt; -11] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">aut123 := aut1*aut2*aut3;; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Display( aut123 ); </span>
 groupoid mapping: [ Ga4 ] -&gt; [ Ga4 ]
root homomorphism: [ [ (1,2,3), (2,3,4) ], [ (2,3,4), (1,3,4) ] ]
images of objects: [ -13, -11, -15 ]
   images of rays: [ [() : -13 -&gt; -13], [(1,4,3) : -13 -&gt; -11], 
  [(1,2,3) : -13 -&gt; -15] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">inv123a := InverseGeneralMapping( aut123 );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Display( inv123a ); </span>
 groupoid mapping: [ Ga4 ] -&gt; [ Ga4 ]
root homomorphism: [ [ (1,2,3), (2,3,4) ], [ (1,2,4), (1,3,4) ] ]
images of objects: [ -11, -15, -13 ]
   images of rays: [ [() : -11 -&gt; -11], [(1,2,4) : -11 -&gt; -15], 
  [(1,3,4) : -11 -&gt; -13] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">inv1 := InverseGeneralMapping( aut1 );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">inv2 := InverseGeneralMapping( aut2 );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">inv3 := InverseGeneralMapping( aut3 );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">inv123b := inv3*inv2*inv1;;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Display( inv123b ); </span>
 groupoid mapping: [ Ga4 ] -&gt; [ Ga4 ]
root homomorphism: [ [ (1,2,3), (2,3,4) ], [ (1,2,4), (1,2,3) ] ]
images of objects: [ -11, -15, -13 ]
   images of rays: [ [() : -11 -&gt; -11], [(1,2,4) : -11 -&gt; -15], 
  [(1,2,3) : -11 -&gt; -13] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">ok := inv123a = inv123b;</span>
false

</pre></div>

<p><a id="X8278B93E7F78038C" name="X8278B93E7F78038C"></a></p>

<h5>5.4-2 <span class="Heading">Automorphisms of a groupoid with rays</span></h5>

<p>If <span class="SimpleMath">\(S\)</span> is a wide subgroupoid with rays of a standard groupoid <span class="SimpleMath">\(G\)</span> then an automorphism <span class="SimpleMath">\(\alpha\)</span> of <span class="SimpleMath">\(G\)</span> may map <span class="SimpleMath">\(S\)</span> to a different subgroupoid. When <span class="SimpleMath">\(\alpha\)</span> is a <code class="code">GroupoidAutomorphismByObjectPerm</code>, then it restricts to an automorphism of <span class="SimpleMath">\(S\)</span> provided the objects in each orbit have the same ray elements.</p>

<p>This subsection needs to be expanded and examples added.</p>

<p><a id="X7DB9D5737EB8C260" name="X7DB9D5737EB8C260"></a></p>

<h5>5.4-3 AutomorphismGroupOfGroupoid</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; AutomorphismGroupOfGroupoid</code>( <var class="Arg">gpd</var> )</td><td class="tdright">( operation )</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; NiceObjectAutoGroupGroupoid</code>( <var class="Arg">gpd</var>, <var class="Arg">aut</var> )</td><td class="tdright">( operation )</td></tr></table></div>
<p>The <code class="code">AutomorphismGroup</code> of <span class="SimpleMath">\(G\)</span> is isomorphic to the quotient of <span class="SimpleMath">\(S_n \times A \times g^n\)</span> by a subgroup isomorphic to <span class="SimpleMath">\(g\)</span>, where <span class="SimpleMath">\(A\)</span> is the automorphism group of <span class="SimpleMath">\(g\)</span> and <span class="SimpleMath">\(S_n\)</span> is the symmetric group on the <span class="SimpleMath">\(n\)</span> objects. This is one of the main topics in <a href="chapBib_mj.html#biBAlWe">[AW10]</a>.</p>

<p>The function <code class="code">NiceObjectAutoGroupGroupoid</code> takes a groupoid and a subgroup of its automorphism group and retuns a <em>nice monomorphism</em> from this automorphism group to a pc-group, if one is available. The current implementation is experimental. Note that <code class="code">ImageElm</code> at present only works on generating elements.</p>


<div class="example"><pre>

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">AGa4 := AutomorphismGroupOfGroupoid( Ga4 ); </span>
&lt;group with 8 generators&gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Print( GeneratorsOfGroup( AGa4 ), "\n" ); </span>
[ groupoid homomorphism : Ga4 -&gt; Ga4
    [ [ ConjugatorAutomorphism( a4, (2,3,4) ), [ -15, -13, -11 ], 
          [ (), (), () ] ] ], groupoid homomorphism : Ga4 -&gt; Ga4
    [ [ ConjugatorAutomorphism( a4, (1,4,2,3) ), [ -15, -13, -11 ], 
          [ (), (), () ] ] ], groupoid homomorphism : Ga4 -&gt; Ga4
    [ [ GroupHomomorphismByImages( a4, a4, [ (1,2,3), (2,3,4) ], 
            [ (1,2,3), (2,3,4) ] ), [ -13, -11, -15 ], [ (), (), () ] ] ], 
  groupoid homomorphism : Ga4 -&gt; Ga4
    [ [ GroupHomomorphismByImages( a4, a4, [ (1,2,3), (2,3,4) ], 
            [ (1,2,3), (2,3,4) ] ), [ -13, -15, -11 ], [ (), (), () ] ] ], 
  groupoid homomorphism : Ga4 -&gt; Ga4
    [ [ IdentityMapping( a4 ), [ -15, -13, -11 ], [ (), (1,2,3), () ] ] ], 
  groupoid homomorphism : Ga4 -&gt; Ga4
    [ [ IdentityMapping( a4 ), [ -15, -13, -11 ], [ (), (2,3,4), () ] ] ], 
  groupoid homomorphism : Ga4 -&gt; Ga4
    [ [ IdentityMapping( a4 ), [ -15, -13, -11 ], [ (), (), (1,2,3) ] ] ], 
  groupoid homomorphism : Ga4 -&gt; Ga4
    [ [ IdentityMapping( a4 ), [ -15, -13, -11 ], [ (), (), (2,3,4) ] ] ] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">NGa4 := NiceObject( AGa4 ); </span>
Group([ f6, f3, f11*f12, f12, f2, f1, f4*f9, f4^2, f5*f9*f10*f11*f12, f5^2 ])
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">MGa4 := NiceMonomorphism( AGa4 );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Size( AGa4 ); </span>
20736
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">SetName( AGa4, "AGa4" ); </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">SetName( NGa4, "NGa4" ); </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Print( Image( MGa4 ), "\n" ); </span>
Group( [ f4*f5*f6, f3*f9*f10*f11, f2, f1*f2, f5*f11, f5^2, f4*f9, f4^2 ] )
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">##  Now do some tests!</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">mgi := MappingGeneratorsImages( MGa4 );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">autgen := mgi[1];; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">pcgen := mgi[2];;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">ngen := Length( autgen );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">ForAll( [1..ngen], i -&gt; Order(autgen[i]) = Order(pcgen[i]) ); </span>
true 

</pre></div>

<p><a id="X80F9594481CA9FDE" name="X80F9594481CA9FDE"></a></p>

<h5>5.4-4 GroupoidAutomorphismByGroupAutos</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; GroupoidAutomorphismByGroupAutos</code>( <var class="Arg">gpd</var>, <var class="Arg">auts</var> )</td><td class="tdright">( operation )</td></tr></table></div>
<p>Homogeneous, discrete groupoids are the second type of groupoid for which a method is provided for <code class="code">AutomorphismGroupOfGroupoid</code>. This is used in the <strong class="pkg">XMod</strong> package for constructing crossed modules of groupoids. The two types of generating automorphism are <code class="code">GroupoidAutomorphismByGroupAutos</code>, which requires a list of group automorphisms, one for each object group, and <code class="code">GroupoidAutomorphismByObjectPerm</code>, which permutes the objects.</p>


<div class="example"><pre>

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Hs3 := HomogeneousDiscreteGroupoid( s3, [ -13..-10] ); </span>
homogeneous, discrete groupoid: &lt; s3, [ -13 .. -10 ] &gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">aut4 := GroupoidAutomorphismByObjectPerm( Hs3, [-12,-10,-11,-13] ); </span>
groupoid homomorphism : morphism from a homogeneous discrete groupoid:
[ -13, -12, -11, -10 ] -&gt; [ -12, -10, -11, -13 ]
object homomorphisms:
IdentityMapping( s3 )
IdentityMapping( s3 )
IdentityMapping( s3 )
IdentityMapping( s3 )
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">gens3 := GeneratorsOfGroup( s3 );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">g1 := gens3[1];; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">g2 := gens3[2];; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">b1 := GroupHomomorphismByImages( s3, s3, gens3, [ g1, g2^g1 ] );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">b2 := GroupHomomorphismByImages( s3, s3, gens3, [ g1^g2, g2 ] );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">b3 := GroupHomomorphismByImages( s3, s3, gens3, [ g1^g2, g2^(g1*g2) ] );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">b4 := GroupHomomorphismByImages( s3, s3, gens3, [ g1^(g2*g1), g2^g1 ] );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">aut5 := GroupoidAutomorphismByGroupAutos( Hs3, [b1,b2,b3,b4] ); </span>
groupoid homomorphism : morphism from a homogeneous discrete groupoid:
[ -13, -12, -11, -10 ] -&gt; [ -13, -12, -11, -10 ]
object homomorphisms:
GroupHomomorphismByImages( s3, s3, 
[ (15,17,19)(16,18,20), (15,20)(16,19)(17,18) ], 
[ (15,17,19)(16,18,20), (15,18)(16,17)(19,20) ] )
GroupHomomorphismByImages( s3, s3, 
[ (15,17,19)(16,18,20), (15,20)(16,19)(17,18) ], 
[ (15,19,17)(16,20,18), (15,20)(16,19)(17,18) ] )
GroupHomomorphismByImages( s3, s3, 
[ (15,17,19)(16,18,20), (15,20)(16,19)(17,18) ], 
[ (15,19,17)(16,20,18), (15,16)(17,20)(18,19) ] )
GroupHomomorphismByImages( s3, s3, 
[ (15,17,19)(16,18,20), (15,20)(16,19)(17,18) ], 
[ (15,19,17)(16,20,18), (15,18)(16,17)(19,20) ] )
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">AHs3 := AutomorphismGroupOfGroupoid( Hs3 );</span>
&lt;group of size 31104 with 4 generators&gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">GeneratorsOfGroup( AHs3 )[2];</span>
groupoid homomorphism : morphism from a homogeneous discrete groupoid:
[ -13, -12, -11, -10 ] -&gt; [ -13, -12, -11, -10 ]
object homomorphisms:
ConjugatorAutomorphism( s3, (15,19,17)(16,20,18) )
IdentityMapping( s3 )
IdentityMapping( s3 )
IdentityMapping( s3 )

</pre></div>

<p><a id="X85A99D8A83511DDE" name="X85A99D8A83511DDE"></a></p>

<h5>5.4-5 RootGroupHomomorphism</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; RootGroupHomomorphism</code>( <var class="Arg">gpdhom</var> )</td><td class="tdright">( attribute )</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; ObjectGroupHomomorphism</code>( <var class="Arg">gpdhom</var>, <var class="Arg">obj</var> )</td><td class="tdright">( operation )</td></tr></table></div>
<p>A homomorphism from a single piece groupoid has one further attribute, namely <code class="code">RootGroupHomomorphism</code>. This is the group homomorphism from the root group of the source to the object group at the image object in the range. Similarly, the group homomorphism from an object group of the source to the object group at the image object in the range is given by <code class="code">ObjectGroupHomomorphism</code>.</p>


<div class="example"><pre>

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">RootGroupHomomorphism( aut123 );</span>
[ (1,2,3), (2,3,4) ] -&gt; [ (2,3,4), (1,3,4) ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">ObjectGroupHomomorphism( aut123, -13 );</span>
[ (1,2,3), (2,3,4) ] -&gt; [ (1,3,2), (1,3,4) ]

</pre></div>


<div class="chlinkprevnextbot">&nbsp;<a href="chap0_mj.html">[Top of Book]</a>&nbsp;  <a href="chap0_mj.html#contents">[Contents]</a>&nbsp;  &nbsp;<a href="chap4_mj.html">[Previous Chapter]</a>&nbsp;  &nbsp;<a href="chap6_mj.html">[Next Chapter]</a>&nbsp;  </div>


<div class="chlinkbot"><span class="chlink1">Goto Chapter: </span><a href="chap0_mj.html">Top</a>  <a href="chap1_mj.html">1</a>  <a href="chap2_mj.html">2</a>  <a href="chap3_mj.html">3</a>  <a href="chap4_mj.html">4</a>  <a href="chap5_mj.html">5</a>  <a href="chap6_mj.html">6</a>  <a href="chap7_mj.html">7</a>  <a href="chap8_mj.html">8</a>  <a href="chapBib_mj.html">Bib</a>  <a href="chapInd_mj.html">Ind</a>  </div>

<hr />
<p class="foot">generated by <a href="http://www.math.rwth-aachen.de/~Frank.Luebeck/GAPDoc">GAPDoc2HTML</a></p>
</body>
</html>
